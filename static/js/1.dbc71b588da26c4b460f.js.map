{"version":3,"sources":["webpack:///./node_modules/core-js/library/fn/array/from.js","webpack:///./src/components/rank/rank.vue?f41b","webpack:///./src/api/rank.js","webpack:///./node_modules/babel-runtime/helpers/toConsumableArray.js","webpack:///src/components/rank/rank.vue","webpack:///./src/components/rank/rank.vue?b765","webpack:///./src/components/rank/rank.vue","webpack:///./node_modules/babel-runtime/core-js/array/from.js","webpack:///./node_modules/core-js/library/modules/_create-property.js","webpack:///./src/components/rank/rank.vue?76ab","webpack:///./node_modules/core-js/library/modules/es6.array.from.js"],"names":["__webpack_require__","module","exports","Array","from","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","Object","__WEBPACK_IMPORTED_MODULE_1__common_js_jsonp__","g_tk","hostUin","format","inCharset","outCharset","notice","platform","data","toplist","method","param","topid","date","type","typeFormat","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_2__config__","tpl","page","song_begin","song_num","needNewCode","__esModule","_from2","obj","default","_interopRequireDefault","arr","isArray","arr2","length","mixin","Scroll","scroll_scroll","Loading","loading","_getTopList","methods","extends_default","vuex_esm","bottom","refresh","id","item","_this","this","_topList","list","components_rank_rank","render","_vm","_h","$createElement","_c","_self","ref","staticClass","attrs","topList","_l","on","click","$event","selectItem","directives","name","rawName","value","expression","src","alt","width","height","_v","song","index","_s","track_name","singer_name","staticRenderFns","Component","normalizeComponent","rank_rank","ssrContext","__webpack_exports__","$defineProperty","createDesc","object","f","content","locals","ctx","$export","toObject","call","isArrayIter","toLength","createProperty","getIterFn","S","F","iter","arrayLike","result","step","iterator","O","C","aLen","arguments","mapfn","undefined","mapping","iterFn","next","done"],"mappings":"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","file":"static/js/1.dbc71b588da26c4b460f.js","sourcesContent":["require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/array/from.js\n// module id = 5zde\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.rank[data-v-48d4afea] {\\n  position: fixed;\\n  width: 100%;\\n  top: 88px;\\n  bottom: 0;\\n}\\n.rank .toplist[data-v-48d4afea] {\\n  height: 100%;\\n  overflow: hidden;\\n}\\n.rank .toplist .item[data-v-48d4afea] {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  margin: 0 20px;\\n  padding-top: 20px;\\n  height: 100px;\\n}\\n.rank .toplist .item[data-v-48d4afea]:last-child {\\n  padding-bottom: 20px;\\n}\\n.rank .toplist .item .icon[data-v-48d4afea] {\\n  -webkit-box-flex: 0;\\n      -ms-flex: 0 0 100px;\\n          flex: 0 0 100px;\\n  width: 100px;\\n  height: 100px;\\n}\\n.rank .toplist .item .songlist[data-v-48d4afea] {\\n  -webkit-box-flex: 1;\\n      -ms-flex: 1;\\n          flex: 1;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: column;\\n          flex-direction: column;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  padding: 0 20px;\\n  height: 100px;\\n  overflow: hidden;\\n  background: #333;\\n  color: rgba(255,255,255,0.3);\\n  font-size: 12px;\\n}\\n.rank .toplist .item .songlist .song[data-v-48d4afea] {\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  line-height: 26px;\\n}\\n.rank .toplist .loading-container[data-v-48d4afea] {\\n  position: absolute;\\n  width: 100%;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n}\", \"\", {\"version\":3,\"sources\":[\"/Users/yudong/Documents/myproject/vue-music/src/components/rank/rank.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,gBAAgB;EAChB,YAAY;EACZ,UAAU;EACV,UAAU;CACX;AACD;EACE,aAAa;EACb,iBAAiB;CAClB;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,eAAe;EACf,kBAAkB;EAClB,cAAc;CACf;AACD;EACE,qBAAqB;CACtB;AACD;EACE,oBAAoB;MAChB,oBAAoB;UAChB,gBAAgB;EACxB,aAAa;EACb,cAAc;CACf;AACD;EACE,oBAAoB;MAChB,YAAY;UACR,QAAQ;EAChB,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,6BAA6B;EAC7B,8BAA8B;MAC1B,2BAA2B;UACvB,uBAAuB;EAC/B,yBAAyB;MACrB,sBAAsB;UAClB,wBAAwB;EAChC,gBAAgB;EAChB,cAAc;EACd,iBAAiB;EACjB,iBAAiB;EACjB,6BAA6B;EAC7B,gBAAgB;CACjB;AACD;EACE,wBAAwB;EACxB,iBAAiB;EACjB,oBAAoB;EACpB,kBAAkB;CACnB;AACD;EACE,mBAAmB;EACnB,YAAY;EACZ,SAAS;EACT,oCAAoC;UAC5B,4BAA4B;CACrC\",\"file\":\"rank.vue\",\"sourcesContent\":[\"\\n.rank[data-v-48d4afea] {\\n  position: fixed;\\n  width: 100%;\\n  top: 88px;\\n  bottom: 0;\\n}\\n.rank .toplist[data-v-48d4afea] {\\n  height: 100%;\\n  overflow: hidden;\\n}\\n.rank .toplist .item[data-v-48d4afea] {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  margin: 0 20px;\\n  padding-top: 20px;\\n  height: 100px;\\n}\\n.rank .toplist .item[data-v-48d4afea]:last-child {\\n  padding-bottom: 20px;\\n}\\n.rank .toplist .item .icon[data-v-48d4afea] {\\n  -webkit-box-flex: 0;\\n      -ms-flex: 0 0 100px;\\n          flex: 0 0 100px;\\n  width: 100px;\\n  height: 100px;\\n}\\n.rank .toplist .item .songlist[data-v-48d4afea] {\\n  -webkit-box-flex: 1;\\n      -ms-flex: 1;\\n          flex: 1;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: column;\\n          flex-direction: column;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  padding: 0 20px;\\n  height: 100px;\\n  overflow: hidden;\\n  background: #333;\\n  color: rgba(255,255,255,0.3);\\n  font-size: 12px;\\n}\\n.rank .toplist .item .songlist .song[data-v-48d4afea] {\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  line-height: 26px;\\n}\\n.rank .toplist .loading-container[data-v-48d4afea] {\\n  position: absolute;\\n  width: 100%;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-48d4afea\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/stylus-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/rank/rank.vue\n// module id = Adc6\n// module chunks = 1","import jsonp from '@/common/js/jsonp'\nimport { commonParams, options } from './config'\n// import axios from 'axios'\n\nexport function getTopList() {\n  // 下面这一行是抓取的请求链接（未删减版）\n  // conso url = 'https://u.y.qq.com/cgi-bin/musicu.fcg?callback=recom41583483471570526&g_tk=5381&jsonpCallback=recom41583483471570526&loginUin=0&hostUin=0&format=jsonp&inCharset=utf8&outCharset=utf-8&notice=0&platform=yqq&needNewCode=0&data=%7B%22comm%22%3A%7B%22ct%22%3A24%7D%2C%22recomPlaylist%22%3A%7B%22method%22%3A%22get_hot_recommend%22%2C%22param%22%3A%7B%22async%22%3A1%2C%22cmd%22%3A2%7D%2C%22module%22%3A%22playlist.HotRecommendServer%22%7D%2C%22playlist%22%3A%7B%22method%22%3A%22get_playlist_by_category%22%2C%22param%22%3A%7B%22id%22%3A8%2C%22curPage%22%3A1%2C%22size%22%3A40%2C%22order%22%3A5%2C%22titleid%22%3A8%7D%2C%22module%22%3A%22playlist.PlayListPlazaServer%22%7D%2C%22new_song%22%3A%7B%22module%22%3A%22QQMusic.MusichallServer%22%2C%22method%22%3A%22GetNewSong%22%2C%22param%22%3A%7B%22type%22%3A0%7D%7D%2C%22new_album%22%3A%7B%22module%22%3A%22QQMusic.MusichallServer%22%2C%22method%22%3A%22GetNewAlbum%22%2C%22param%22%3A%7B%22type%22%3A0%2C%22category%22%3A%22-1%22%2C%22genre%22%3A0%2C%22year%22%3A1%2C%22company%22%3A-1%2C%22sort%22%3A1%2C%22start%22%3A0%2C%22end%22%3A39%7D%7D%2C%22toplist%22%3A%7B%22module%22%3A%22music.web_toplist_svr%22%2C%22method%22%3A%22get_toplist_index%22%2C%22param%22%3A%7B%7D%7D%2C%22focus%22%3A%7B%22module%22%3A%22QQMusic.MusichallServer%22%2C%22method%22%3A%22GetFocus%22%2C%22param%22%3A%7B%7D%7D%7D'\n  const url = 'https://u.y.qq.com/cgi-bin/musicu.fcg'\n  const data = {\n    g_tk: 5381,\n    // jsonpCallback: 'recom2586478241234471',\n    hostUin: 0,\n    format: 'json',\n    inCharset: 'utf8',\n    outCharset: 'utf-8',\n    notice: 0,\n    platform: 'yqq',\n    // 由于我们这里只抓取recomPlaylist的数据，所以其他的请求项，我们不传\n    data: {\n      // 'comm': {'ct': 24},\n      // 'category': {\n      //   'method': 'get_hot_category',\n      //   'param': {'qq': ''},\n      //   'module': 'music.web_category_svr'\n      // },\n      // 'recomPlaylist': {\n      //   'method': 'get_hot_recommend',\n      //   'param': {\n      //     'async': 1,\n      //     'cmd': 2\n      //   },\n      //   'module': 'playlist.HotRecommendServer'\n      // }\n      // 'playlist': {\n      //   'method': 'get_playlist_by_category',\n      //   'param': {\n      //     'id': 8,\n      //     'curPage': 1,\n      //     'size': 40,\n      //     'order': 5,\n      //     'titleid': 8\n      //   },\n      //   'module': 'playlist.PlayListPlazaServer'\n      // },\n      // 'new_song': {\n      //   'module': 'QQMusic.MusichallServer',\n      //   'method': 'GetNewSong',\n      //   'param': {\n      //     'type': 0\n      //   }\n      // },\n      // 'new_album': {\n      //   'module': 'QQMusic.MusichallServer',\n      //   'method': 'GetNewAlbum',\n      //   'param': {\n      //     'type': 0,\n      //     'category': '-1',\n      //     'genre': 0,\n      //     'year': 1,\n      //     'company': -1,\n      //     'sort': 1,\n      //     'start': 0,\n      //     'end': 39\n      //   }\n      // },\n      'toplist': {\n        'module': 'music.web_toplist_svr',\n        'method': 'get_toplist_index',\n        'param': {}\n      }\n      // 'focus': {\n      //   'module': 'QQMusic.MusichallServer',\n      //   'method': 'GetFocus',\n      //   'param': {}\n      // }\n    }\n  }\n  // 因为我们的 options 里面配的回调函数的 jsonpCallback\n  // 而这个接口的回调是 callback ，所以我们不传，默认就是 callback\n  return jsonp(url, data, '')\n  // return jsonp(url, data, options)\n}\n\nexport function getMusicList(topid, date, type) {\n  // 这个里面的日期只是使用接口中的 update_key 参数传过来\n  // const date = dateFormat(new Date())\n  const typeFormat = type === 0 ? 'top' : 'global'\n  const url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_cp.fcg'\n  const data = Object.assign({}, commonParams, {\n    topid,\n    tpl: 3,\n    page: 'detail',\n    date,\n    type: typeFormat,\n    song_begin: 0,\n    song_num: 30,\n    g_tk: 788911273,\n    hostUin: 0,\n    format: 'jsonp',\n    inCharset: 'utf8',\n    outCharset: 'utf-8',\n    notice: 0,\n    platform: 'yqq',\n    needNewCode: 0\n  })\n  return jsonp(url, data, options)\n}\n\n/* eslint-disable no-unused-vars */\nfunction dateFormat(date) {\n  // console.log(date.toLocaleDateString().replace(/\\//g, '-'))\n  let month = `0${date.toLocaleDateString().split('/')[1]}`\n  // 当天日期不行，当天的榜单还没出来呢\n  let day = date.toLocaleDateString().split('/')[2] - 1\n  // date.toLocaleDateString().split('/')[1] = month\n  return `${date.toLocaleDateString().split('/')[0]}-${month}-${day}`\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/rank.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _from = require(\"../core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return (0, _from2.default)(arr);\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/toConsumableArray.js\n// module id = Gu7T\n// module chunks = 1","<template>\r\n  <div class=\"rank\" ref=\"rank\">\r\n    <scroll class=\"toplist\" :data=\"topList\" ref=\"toplist\">\r\n      <ul>\r\n        <li class=\"item\" v-for=\"item of topList\" @click=\"selectItem(item)\">\r\n          <div class=\"icon\">\r\n            <img src=\"\" alt=\"\" width=\"100\" height=\"100\" v-lazy=\"item.pic\">\r\n          </div>\r\n          <ul class=\"songlist\">\r\n            <li class=\"song\" v-for=\"(song, index) of item.songlist\">\r\n              <span>{{index + 1}}、</span>\r\n              <span>{{song.track_name}}-{{song.singer_name}}</span>\r\n            </li>\r\n          </ul>\r\n        </li>\r\n      </ul>\r\n      <div class=\"loading-container\" v-show=\"!topList.length\">\r\n        <loading></loading>\r\n      </div>\r\n    </scroll>\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {getTopList} from '@/api/rank'\r\n  import {ERR_OK} from '@/api/config'\r\n  import Scroll from '@/base/scroll/scroll'\r\n  import Loading from '@/base/loading/loading'\r\n  import {playlistMixin} from '@/common/js/mixin'\r\n  import {mapMutations} from 'vuex'\r\n  export default {\r\n    mixins: [playlistMixin],\r\n    components: {\r\n      Scroll,\r\n      Loading\r\n    },\r\n    created() {\r\n      this._getTopList()\r\n    },\r\n    data() {\r\n      return {\r\n        topList: []\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapMutations({\r\n        setTopList: 'SET_TOP_LIST'\r\n      }),\r\n      handlePlaylist(playlist) {\r\n        const bottom = playlist.length ? '60px' : ''\r\n        this.$refs.rank.style.bottom = bottom\r\n        this.$refs.toplist.refresh()\r\n      },\r\n      selectItem(item) {\r\n        this.$router.push({\r\n          path: `/rank/${item.id}`\r\n        })\r\n        this.setTopList(item)\r\n      },\r\n      _getTopList() {\r\n        getTopList().then((res) => {\r\n          if(res.code === ERR_OK) {\r\n            res.toplist.data.group_list.forEach((item) => {\r\n              this.topList.push(...(item.list))\r\n            })\r\n            // console.log(this.topList)\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style scoped lang=\"stylus\">\r\n  @import \"~common/stylus/variable\"\r\n  @import \"~common/stylus/mixin\"\r\n\r\n  .rank\r\n    position: fixed\r\n    width: 100%\r\n    top: 88px\r\n    bottom: 0\r\n    .toplist\r\n      height: 100%\r\n      overflow: hidden\r\n      .item\r\n        display: flex\r\n        margin: 0 20px\r\n        padding-top: 20px\r\n        height: 100px\r\n        &:last-child\r\n          padding-bottom: 20px\r\n        .icon\r\n          flex: 0 0 100px\r\n          width: 100px\r\n          height: 100px\r\n        .songlist\r\n          flex: 1\r\n          display: flex\r\n          flex-direction: column\r\n          justify-content: center\r\n          padding: 0 20px\r\n          height: 100px\r\n          overflow: hidden\r\n          background: $color-highlight-background\r\n          color: $color-text-d\r\n          font-size: $font-size-small\r\n          .song\r\n            no-wrap()\r\n            line-height: 26px\r\n      .loading-container\r\n        position: absolute\r\n        width: 100%\r\n        top: 50%\r\n        transform: translateY(-50%)\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/rank/rank.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"rank\",staticClass:\"rank\"},[_c('scroll',{ref:\"toplist\",staticClass:\"toplist\",attrs:{\"data\":_vm.topList}},[_c('ul',_vm._l((_vm.topList),function(item){return _c('li',{staticClass:\"item\",on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('div',{staticClass:\"icon\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.pic),expression:\"item.pic\"}],attrs:{\"src\":\"\",\"alt\":\"\",\"width\":\"100\",\"height\":\"100\"}})]),_vm._v(\" \"),_c('ul',{staticClass:\"songlist\"},_vm._l((item.songlist),function(song,index){return _c('li',{staticClass:\"song\"},[_c('span',[_vm._v(_vm._s(index + 1)+\"、\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(song.track_name)+\"-\"+_vm._s(song.singer_name))])])}))])})),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.topList.length),expression:\"!topList.length\"}],staticClass:\"loading-container\"},[_c('loading')],1)]),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-48d4afea\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/rank/rank.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-48d4afea\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./rank.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./rank.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-48d4afea\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./rank.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-48d4afea\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/rank/rank.vue\n// module id = null\n// module chunks = ","module.exports = { \"default\": require(\"core-js/library/fn/array/from\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/array/from.js\n// module id = c/Tr\n// module chunks = 1","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_create-property.js\n// module id = fBQ2\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-48d4afea\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/stylus-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./rank.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"0eb7d447\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-48d4afea\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/stylus-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/rank/rank.vue\n// module id = hokm\n// module chunks = 1","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.array.from.js\n// module id = qyJz\n// module chunks = 1"],"sourceRoot":""}